function cov_1qr47l0jt4(){var path="D:\\Capgemini Training\\Kartik_Hirijaganer\\Flight-Booking\\Back-End\\Admin\\admin.js";var hash="0fefffce8d982db9708d7c8a56707f440daacca6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Capgemini Training\\Kartik_Hirijaganer\\Flight-Booking\\Back-End\\Admin\\admin.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:2,column:12},end:{line:2,column:21}},"2":{start:{line:3,column:19},end:{line:3,column:41}},"3":{start:{line:4,column:14},end:{line:4,column:30}},"4":{start:{line:5,column:13},end:{line:5,column:28}},"5":{start:{line:8,column:21},end:{line:8,column:45}},"6":{start:{line:9,column:18},end:{line:9,column:47}},"7":{start:{line:12,column:0},end:{line:12,column:27}},"8":{start:{line:13,column:0},end:{line:13,column:49}},"9":{start:{line:16,column:23},end:{line:30,column:1}},"10":{start:{line:33,column:20},end:{line:33,column:48}},"11":{start:{line:34,column:0},end:{line:34,column:74}},"12":{start:{line:51,column:0},end:{line:58,column:3}},"13":{start:{line:52,column:2},end:{line:57,column:5}},"14":{start:{line:53,column:4},end:{line:53,column:40}},"15":{start:{line:56,column:4},end:{line:56,column:42}},"16":{start:{line:113,column:0},end:{line:131,column:3}},"17":{start:{line:114,column:18},end:{line:120,column:3}},"18":{start:{line:122,column:2},end:{line:130,column:5}},"19":{start:{line:123,column:3},end:{line:123,column:39}},"20":{start:{line:124,column:3},end:{line:124,column:36}},"21":{start:{line:127,column:4},end:{line:129,column:5}},"22":{start:{line:128,column:6},end:{line:128,column:44}},"23":{start:{line:164,column:0},end:{line:182,column:3}},"24":{start:{line:165,column:18},end:{line:171,column:3}},"25":{start:{line:173,column:2},end:{line:181,column:7}},"26":{start:{line:177,column:6},end:{line:177,column:42}},"27":{start:{line:180,column:6},end:{line:180,column:44}},"28":{start:{line:204,column:0},end:{line:211,column:3}},"29":{start:{line:205,column:2},end:{line:210,column:5}},"30":{start:{line:207,column:4},end:{line:207,column:40}},"31":{start:{line:209,column:4},end:{line:209,column:42}},"32":{start:{line:218,column:0},end:{line:223,column:2}},"33":{start:{line:219,column:2},end:{line:221,column:3}},"34":{start:{line:220,column:4},end:{line:220,column:21}},"35":{start:{line:222,column:2},end:{line:222,column:40}},"36":{start:{line:225,column:0},end:{line:225,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:51,column:26},end:{line:51,column:27}},loc:{start:{line:51,column:40},end:{line:58,column:1}},line:51},"1":{name:"(anonymous_1)",decl:{start:{line:52,column:50},end:{line:52,column:51}},loc:{start:{line:52,column:64},end:{line:54,column:3}},line:52},"2":{name:"(anonymous_2)",decl:{start:{line:55,column:9},end:{line:55,column:10}},loc:{start:{line:55,column:16},end:{line:57,column:3}},line:55},"3":{name:"(anonymous_3)",decl:{start:{line:113,column:30},end:{line:113,column:31}},loc:{start:{line:113,column:44},end:{line:131,column:1}},line:113},"4":{name:"(anonymous_4)",decl:{start:{line:122,column:65},end:{line:122,column:66}},loc:{start:{line:122,column:77},end:{line:125,column:3}},line:122},"5":{name:"(anonymous_5)",decl:{start:{line:126,column:9},end:{line:126,column:10}},loc:{start:{line:126,column:16},end:{line:130,column:3}},line:126},"6":{name:"(anonymous_6)",decl:{start:{line:164,column:34},end:{line:164,column:35}},loc:{start:{line:164,column:48},end:{line:182,column:1}},line:164},"7":{name:"(anonymous_7)",decl:{start:{line:175,column:11},end:{line:175,column:12}},loc:{start:{line:175,column:25},end:{line:178,column:5}},line:175},"8":{name:"(anonymous_8)",decl:{start:{line:179,column:11},end:{line:179,column:12}},loc:{start:{line:179,column:18},end:{line:181,column:5}},line:179},"9":{name:"(anonymous_9)",decl:{start:{line:204,column:47},end:{line:204,column:48}},loc:{start:{line:204,column:61},end:{line:211,column:1}},line:204},"10":{name:"(anonymous_10)",decl:{start:{line:205,column:84},end:{line:205,column:85}},loc:{start:{line:205,column:98},end:{line:208,column:3}},line:205},"11":{name:"(anonymous_11)",decl:{start:{line:208,column:12},end:{line:208,column:13}},loc:{start:{line:208,column:21},end:{line:210,column:3}},line:208},"12":{name:"(anonymous_12)",decl:{start:{line:218,column:17},end:{line:218,column:18}},loc:{start:{line:218,column:26},end:{line:223,column:1}},line:218}},branchMap:{"0":{loc:{start:{line:127,column:4},end:{line:129,column:5}},type:"if",locations:[{start:{line:127,column:4},end:{line:129,column:5}},{start:{line:127,column:4},end:{line:129,column:5}}],line:127},"1":{loc:{start:{line:219,column:2},end:{line:221,column:3}},type:"if",locations:[{start:{line:219,column:2},end:{line:221,column:3}},{start:{line:219,column:2},end:{line:221,column:3}}],line:219}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"0fefffce8d982db9708d7c8a56707f440daacca6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1qr47l0jt4=function(){return actualCoverage;};}return actualCoverage;}cov_1qr47l0jt4();const express=(cov_1qr47l0jt4().s[0]++,require('express'));const app=(cov_1qr47l0jt4().s[1]++,express());const bodyParser=(cov_1qr47l0jt4().s[2]++,require("body-parser"));const axios=(cov_1qr47l0jt4().s[3]++,require('axios'));const cors=(cov_1qr47l0jt4().s[4]++,require('cors'));//swagger libraries
const swaggerJsDoc=(cov_1qr47l0jt4().s[5]++,require("swagger-jsdoc"));const swaggerUi=(cov_1qr47l0jt4().s[6]++,require("swagger-ui-express"));//middleware
cov_1qr47l0jt4().s[7]++;app.use(bodyParser.json());cov_1qr47l0jt4().s[8]++;app.use(cors({origin:'http://localhost:4200'}));//swagger
const swaggerOptions=(cov_1qr47l0jt4().s[9]++,{swaggerDefinition:{info:{version:"1.0.0",title:"Admin Microservice",description:"Admin microservice constains http methods to add, edit and delete flight",contact:{name:"BookMyFlight"},servers:["http://localhost:3100"]}},apis:["admin.js"]});//swagger middleware
const swaggerDocs=(cov_1qr47l0jt4().s[10]++,swaggerJsDoc(swaggerOptions));cov_1qr47l0jt4().s[11]++;app.use("/admin/api-docs",swaggerUi.serve,swaggerUi.setup(swaggerDocs));//GET ALL FLIGHTS METHOD
/**
 * @swagger
 * /admin/flights:
 *  get:
 *    description: Use to get all flights
 *    responses:
 *      '200':
 *        description: A successful response
 *      '400':
 *        description: Server error.
 */cov_1qr47l0jt4().s[12]++;app.get('/admin/flights',(req,res)=>{cov_1qr47l0jt4().f[0]++;cov_1qr47l0jt4().s[13]++;axios.get("http://localhost:3000/flights").then(response=>{cov_1qr47l0jt4().f[1]++;cov_1qr47l0jt4().s[14]++;res.status(200).send(response.data);}).catch(err=>{cov_1qr47l0jt4().f[2]++;cov_1qr47l0jt4().s[15]++;res.status(404).json(`Error: ${err}`);});});//POST METHOD
/**
 * @swagger
 * definitions:
 *  Flight:
 *   type: object
 *   properties:
 *    flightName:
 *      type: string
 *      description: Name of the flight
 *      example: 'GA-101'
 *    airLine:
 *      type: string
 *      description: name of the air-line
 *      example: 'Go-Air'
 *    source:
 *      type: string
 *      description: source
 *      example: 'mumbai'
 *    destination:
 *      type: string
 *      description: Destination
 *      example: 'delhi'
 *    fare:
 *      type: number
 *      description: fare of the flight
 *      example: 2000
 *    
 */ /**
 * @swagger
 * /admin/add/flight:
 *   post:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Flight Successfully added
 *       400:
 *         description: Server Error
 */cov_1qr47l0jt4().s[16]++;app.post('/admin/add/flight',(req,res)=>{cov_1qr47l0jt4().f[3]++;var newFlight=(cov_1qr47l0jt4().s[17]++,{airLine:req.body.airLine,flightName:req.body.flightName,source:req.body.source,destination:req.body.destination,fare:req.body.fare});cov_1qr47l0jt4().s[18]++;axios.post("http://localhost:3000/flight/add",newFlight).then(response=>{cov_1qr47l0jt4().f[4]++;cov_1qr47l0jt4().s[19]++;res.status(200).send(response.data);cov_1qr47l0jt4().s[20]++;console.log("New flight added.");}).catch(err=>{cov_1qr47l0jt4().f[5]++;cov_1qr47l0jt4().s[21]++;if(err){cov_1qr47l0jt4().b[0][0]++;cov_1qr47l0jt4().s[22]++;res.status(400).json(`Error: ${err}`);}else{cov_1qr47l0jt4().b[0][1]++;}});});//PUT METHOD
/**
 * @swagger
 * /admin/edit/flight/{id}:
 *   put:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: id
 *         description: flight object id
 *         in: path
 *         required: true
 *         schema:
 *          type: string
 *          description: user's object id
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Flight Successfully updated
 *       400:
 *         description: Server Error
 */cov_1qr47l0jt4().s[23]++;app.put('/admin/edit/flight/:id',(req,res)=>{cov_1qr47l0jt4().f[6]++;var newFlight=(cov_1qr47l0jt4().s[24]++,{airLine:req.body.airLine,flightName:req.body.flightName,source:req.body.source,destination:req.body.destination,fare:req.body.fare});cov_1qr47l0jt4().s[25]++;axios.put(`http://localhost:3000/flight/edit/${req.params.id}`,newFlight).then(response=>{cov_1qr47l0jt4().f[7]++;cov_1qr47l0jt4().s[26]++;//console.log(response.data);
res.status(200).send(response.data);}).catch(err=>{cov_1qr47l0jt4().f[8]++;cov_1qr47l0jt4().s[27]++;res.status(400).json(`Error: ${err}`);});});//DELETE METHOD
/**
 * @swagger
 * /admin/delete/flight/{flightName}:
 *  delete:
 *    description: Use to delete flight by flight name
 *    responses:
 *      '200':
 *        description: Flight successfully deleted
 *      '400':
 *        description: Server error.
 *  parameters:
 *        - in: path
 *          name: flightName
 *          required: true
 *          schema:
 *            type: String
 *          description: Flight-Name
 */cov_1qr47l0jt4().s[28]++;app.delete('/admin/delete/flight/:flightName',(req,res)=>{cov_1qr47l0jt4().f[9]++;cov_1qr47l0jt4().s[29]++;axios.delete(`http://localhost:3000/flight/delete/${req.params.flightName}`).then(response=>{cov_1qr47l0jt4().f[10]++;cov_1qr47l0jt4().s[30]++;//console.log(response.data);
res.status(200).send(response.data);}).catch(err=>{cov_1qr47l0jt4().f[11]++;cov_1qr47l0jt4().s[31]++;res.status(400).json(`Error: ${err}`);});});cov_1qr47l0jt4().s[32]++;app.listen(3100,err=>{cov_1qr47l0jt4().f[12]++;cov_1qr47l0jt4().s[33]++;if(err){cov_1qr47l0jt4().b[1][0]++;cov_1qr47l0jt4().s[34]++;console.log(err);}else{cov_1qr47l0jt4().b[1][1]++;}cov_1qr47l0jt4().s[35]++;console.log("Listening to port 3100");});cov_1qr47l0jt4().s[36]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYXBwIiwiYm9keVBhcnNlciIsImF4aW9zIiwiY29ycyIsInN3YWdnZXJKc0RvYyIsInN3YWdnZXJVaSIsInVzZSIsImpzb24iLCJvcmlnaW4iLCJzd2FnZ2VyT3B0aW9ucyIsInN3YWdnZXJEZWZpbml0aW9uIiwiaW5mbyIsInZlcnNpb24iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY29udGFjdCIsIm5hbWUiLCJzZXJ2ZXJzIiwiYXBpcyIsInN3YWdnZXJEb2NzIiwic2VydmUiLCJzZXR1cCIsImdldCIsInJlcSIsInJlcyIsInRoZW4iLCJyZXNwb25zZSIsInN0YXR1cyIsInNlbmQiLCJkYXRhIiwiY2F0Y2giLCJlcnIiLCJwb3N0IiwibmV3RmxpZ2h0IiwiYWlyTGluZSIsImJvZHkiLCJmbGlnaHROYW1lIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJmYXJlIiwiY29uc29sZSIsImxvZyIsInB1dCIsInBhcmFtcyIsImlkIiwiZGVsZXRlIiwibGlzdGVuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6ImcxS0FlWTsyRkFmWixLQUFNQSxDQUFBQSxPQUFPLDBCQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFWLENBQWIsQ0FDQSxLQUFNQyxDQUFBQSxHQUFHLDBCQUFHRixPQUFPLEVBQVYsQ0FBVCxDQUNBLEtBQU1HLENBQUFBLFVBQVUsMEJBQUdGLE9BQU8sQ0FBQyxhQUFELENBQVYsQ0FBaEIsQ0FDQSxLQUFNRyxDQUFBQSxLQUFLLDBCQUFHSCxPQUFPLENBQUMsT0FBRCxDQUFWLENBQVgsQ0FDQSxLQUFNSSxDQUFBQSxJQUFJLDBCQUFHSixPQUFPLENBQUMsTUFBRCxDQUFWLENBQVYsQ0FFQTtBQUNBLEtBQU1LLENBQUFBLFlBQVksMEJBQUdMLE9BQU8sQ0FBQyxlQUFELENBQVYsQ0FBbEIsQ0FDQSxLQUFNTSxDQUFBQSxTQUFTLDBCQUFHTixPQUFPLENBQUMsb0JBQUQs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Q0QsQ0FSSCxFQVNELENBbEJELEVBb0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcseUJBQ0EvQixHQUFHLENBQUM2QyxNQUFKLENBQVcsa0NBQVgsQ0FBK0MsQ0FBQ3RCLEdBQUQsQ0FBTUMsR0FBTixHQUFjLGtEQUMzRHRCLEtBQUssQ0FBQzJDLE1BQU4sQ0FBYyx1Q0FBc0N0QixHQUFHLENBQUNvQixNQUFKLENBQVdQLFVBQVcsRUFBMUUsRUFBNkVYLElBQTdFLENBQW1GQyxRQUFELEVBQWMsbURBQzlGO0FBQ0FGLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCRixRQUFRLENBQUNHLElBQTlCLEVBQ0QsQ0FIRCxFQUdHQyxLQUhILENBR1dDLEdBQUQsRUFBUyxtREFDakJQLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JwQixJQUFoQixDQUFzQixVQUFTd0IsR0FBSSxFQUFuQyxFQUNELENBTEQsRUFNRCxDQVBELEUseUJBY0EvQixHQUFHLENBQUM4QyxNQUFKLENBQVcsSUFBWCxDQUFrQmYsR0FBRCxFQUFTLG1EQUN4QixHQUFHQSxHQUFILENBQU8scURBQ0xTLE9BQU8sQ0FBQ0MsR0FBUixDQUFZVixHQUFaLEVBQ0QsQ0FGRCxpQ0FEd0IseUJBSXhCUyxPQUFPLENBQUNDLEdBQVIsQ0FBWSx3QkFBWixFQUNELENBTEQsRSx5QkFPQU0sTUFBTSxDQUFDQyxPQUFQLENBQWlCaEQsR0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XHJcbmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKTtcclxuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKTtcclxuXHJcbi8vc3dhZ2dlciBsaWJyYXJpZXNcclxuY29uc3Qgc3dhZ2dlckpzRG9jID0gcmVxdWlyZShcInN3YWdnZXItanNkb2NcIik7XHJcbmNvbnN0IHN3YWdnZXJVaSA9IHJlcXVpcmUoXCJzd2FnZ2VyLXVpLWV4cHJlc3NcIik7XHJcblxyXG4vL21pZGRsZXdhcmVcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoY29ycyh7b3JpZ2luOiAnaHR0cDovL2xvY2FsaG9zdDo0MjAwJ30pKTtcclxuXHJcbi8vc3dhZ2dlclxyXG5jb25zdCBzd2FnZ2VyT3B0aW9ucyA9IHtcclxuICBzd2FnZ2VyRGVmaW5pdGlvbjoge1xyXG4gICAgaW5mbzoge1xyXG4gICAgICB2ZXJzaW9uOiBcIjEuMC4wXCIsXHJcbiAgICAgIHRpdGxlOiBcIkFkbWluIE1pY3Jvc2VydmljZVwiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJBZG1pbiBtaWNyb3NlcnZpY2UgY29uc3RhaW5zIGh0dHAgbWV0aG9kcyB0byBhZGQsIGVkaXQgYW5kIGRlbGV0ZSBmbGlnaHRcIixcclxuICAgICAgY29udGFjdDoge1xyXG4gICAgICAgIG5hbWU6IFwiQm9va015RmxpZ2h0XCJcclxuICAgICAgfSxcclxuICAgICAgc2VydmVyczogW1wiaHR0cDovL2xvY2FsaG9zdDozMTAwXCJdXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXBpczogW1wiYWRtaW4uanNcIl1cclxufTtcclxuXHJcbi8vc3dhZ2dlciBtaWRkbGV3YXJlXHJcbmNvbnN0IHN3YWdnZXJEb2NzID0gc3dhZ2dlckpzRG9jKHN3YWdnZXJPcHRpb25zKTtcclxuYXBwLnVzZShcIi9hZG1pbi9hcGktZG9jc1wiLCBzd2FnZ2VyVWkuc2VydmUsIHN3YWdnZXJVaS5zZXR1cChzd2FnZ2VyRG9jcykpO1xyXG5cclxuXHJcbi8vR0VUIEFMTCBGTElHSFRTIE1FVEhPRFxyXG5cclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9hZG1pbi9mbGlnaHRzOlxyXG4gKiAgZ2V0OlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlIHRvIGdldCBhbGwgZmxpZ2h0c1xyXG4gKiAgICByZXNwb25zZXM6XHJcbiAqICAgICAgJzIwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogQSBzdWNjZXNzZnVsIHJlc3BvbnNlXHJcbiAqICAgICAgJzQwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yLlxyXG4gKi9cclxuXHJcbmFwcC5nZXQoJy9hZG1pbi9mbGlnaHRzJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgYXhpb3MuZ2V0KFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2ZsaWdodHNcIikudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3BvbnNlLmRhdGEpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICByZXMuc3RhdHVzKDQwNCkuanNvbihgRXJyb3I6ICR7ZXJyfWApO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vUE9TVCBNRVRIT0RcclxuXHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiBkZWZpbml0aW9uczpcclxuICogIEZsaWdodDpcclxuICogICB0eXBlOiBvYmplY3RcclxuICogICBwcm9wZXJ0aWVzOlxyXG4gKiAgICBmbGlnaHROYW1lOlxyXG4gKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBOYW1lIG9mIHRoZSBmbGlnaHRcclxuICogICAgICBleGFtcGxlOiAnR0EtMTAxJ1xyXG4gKiAgICBhaXJMaW5lOlxyXG4gKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBuYW1lIG9mIHRoZSBhaXItbGluZVxyXG4gKiAgICAgIGV4YW1wbGU6ICdHby1BaXInXHJcbiAqICAgIHNvdXJjZTpcclxuICogICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICBkZXNjcmlwdGlvbjogc291cmNlXHJcbiAqICAgICAgZXhhbXBsZTogJ211bWJhaSdcclxuICogICAgZGVzdGluYXRpb246XHJcbiAqICAgICAgdHlwZTogc3RyaW5nXHJcbiAqICAgICAgZGVzY3JpcHRpb246IERlc3RpbmF0aW9uXHJcbiAqICAgICAgZXhhbXBsZTogJ2RlbGhpJ1xyXG4gKiAgICBmYXJlOlxyXG4gKiAgICAgIHR5cGU6IG51bWJlclxyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBmYXJlIG9mIHRoZSBmbGlnaHRcclxuICogICAgICBleGFtcGxlOiAyMDAwXHJcbiAqICAgIFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiAvYWRtaW4vYWRkL2ZsaWdodDpcclxuICogICBwb3N0OlxyXG4gKiAgICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgICBkZXNjcmlwdGlvbjogQ3JlYXRlcyBhIG5ldyBmbGlnaHRcclxuICogICAgIHByb2R1Y2VzOlxyXG4gKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cclxuICogICAgIHBhcmFtZXRlcnM6XHJcbiAqICAgICAgIC0gbmFtZTogZmxpZ2h0XHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IEZsaWdodCBvYmplY3RcclxuICogICAgICAgICBpbjogYm9keVxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvRmxpZ2h0J1xyXG4gKiAgICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICAyMDA6XHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IEZsaWdodCBTdWNjZXNzZnVsbHkgYWRkZWRcclxuICogICAgICAgNDAwOlxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBTZXJ2ZXIgRXJyb3JcclxuICovXHJcbmFwcC5wb3N0KCcvYWRtaW4vYWRkL2ZsaWdodCcsIChyZXEsIHJlcykgPT4ge1xyXG4gIHZhciBuZXdGbGlnaHQgPSB7XHJcbiAgICBhaXJMaW5lOiByZXEuYm9keS5haXJMaW5lLFxyXG4gICAgZmxpZ2h0TmFtZTogcmVxLmJvZHkuZmxpZ2h0TmFtZSxcclxuICAgIHNvdXJjZTogcmVxLmJvZHkuc291cmNlLFxyXG4gICAgZGVzdGluYXRpb246IHJlcS5ib2R5LmRlc3RpbmF0aW9uLFxyXG4gICAgZmFyZTogcmVxLmJvZHkuZmFyZVxyXG4gIH1cclxuXHJcbiAgYXhpb3MucG9zdChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9mbGlnaHQvYWRkXCIsIG5ld0ZsaWdodCkudGhlbigocmVzcG9uc2UpPT57XHJcbiAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3BvbnNlLmRhdGEpO1xyXG4gICBjb25zb2xlLmxvZyhcIk5ldyBmbGlnaHQgYWRkZWQuXCIpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICBpZihlcnIpe1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihgRXJyb3I6ICR7ZXJyfWApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8vUFVUIE1FVEhPRFxyXG5cclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9hZG1pbi9lZGl0L2ZsaWdodC97aWR9OlxyXG4gKiAgIHB1dDpcclxuICogICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gRmxpZ2h0c1xyXG4gKiAgICAgZGVzY3JpcHRpb246IENyZWF0ZXMgYSBuZXcgZmxpZ2h0XHJcbiAqICAgICBwcm9kdWNlczpcclxuICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXHJcbiAqICAgICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIG5hbWU6IGlkXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IGZsaWdodCBvYmplY3QgaWRcclxuICogICAgICAgICBpbjogcGF0aFxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICAgICAgZGVzY3JpcHRpb246IHVzZXIncyBvYmplY3QgaWRcclxuICogICAgICAgLSBuYW1lOiBmbGlnaHRcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IG9iamVjdFxyXG4gKiAgICAgICAgIGluOiBib2R5XHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICAkcmVmOiAnIy9kZWZpbml0aW9ucy9GbGlnaHQnXHJcbiAqICAgICByZXNwb25zZXM6XHJcbiAqICAgICAgIDIwMDpcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IFN1Y2Nlc3NmdWxseSB1cGRhdGVkXHJcbiAqICAgICAgIDQwMDpcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIEVycm9yXHJcbiAqL1xyXG5hcHAucHV0KCcvYWRtaW4vZWRpdC9mbGlnaHQvOmlkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgdmFyIG5ld0ZsaWdodCA9IHtcclxuICAgIGFpckxpbmU6IHJlcS5ib2R5LmFpckxpbmUsXHJcbiAgICBmbGlnaHROYW1lOiByZXEuYm9keS5mbGlnaHROYW1lLFxyXG4gICAgc291cmNlOiByZXEuYm9keS5zb3VyY2UsXHJcbiAgICBkZXN0aW5hdGlvbjogcmVxLmJvZHkuZGVzdGluYXRpb24sXHJcbiAgICBmYXJlOiByZXEuYm9keS5mYXJlXHJcbiAgfVxyXG5cclxuICBheGlvcy5wdXQoXHJcbiAgICBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2ZsaWdodC9lZGl0LyR7cmVxLnBhcmFtcy5pZH1gLCBuZXdGbGlnaHRcclxuICAgICkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKGBFcnJvcjogJHtlcnJ9YCk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4vL0RFTEVURSBNRVRIT0RcclxuXHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiAvYWRtaW4vZGVsZXRlL2ZsaWdodC97ZmxpZ2h0TmFtZX06XHJcbiAqICBkZWxldGU6XHJcbiAqICAgIGRlc2NyaXB0aW9uOiBVc2UgdG8gZGVsZXRlIGZsaWdodCBieSBmbGlnaHQgbmFtZVxyXG4gKiAgICByZXNwb25zZXM6XHJcbiAqICAgICAgJzIwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IHN1Y2Nlc3NmdWxseSBkZWxldGVkXHJcbiAqICAgICAgJzQwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yLlxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgIC0gaW46IHBhdGhcclxuICogICAgICAgICAgbmFtZTogZmxpZ2h0TmFtZVxyXG4gKiAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiBGbGlnaHQtTmFtZVxyXG4gKi9cclxuYXBwLmRlbGV0ZSgnL2FkbWluL2RlbGV0ZS9mbGlnaHQvOmZsaWdodE5hbWUnLCAocmVxLCByZXMpID0+IHtcclxuICBheGlvcy5kZWxldGUoYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9mbGlnaHQvZGVsZXRlLyR7cmVxLnBhcmFtcy5mbGlnaHROYW1lfWApLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSkuY2F0Y2goIChlcnIpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKGBFcnJvcjogJHtlcnJ9YCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5hcHAubGlzdGVuKDMxMDAsIChlcnIpID0+IHtcclxuICBpZihlcnIpe1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9XHJcbiAgY29uc29sZS5sb2coXCJMaXN0ZW5pbmcgdG8gcG9ydCAzMTAwXCIpO1xyXG59KVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBhcHA7Il19